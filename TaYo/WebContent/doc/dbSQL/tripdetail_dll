ALTER TABLE Trip_Detail
	DROP
		CONSTRAINT FK_Trip_Basic_TO_Trip_Detail
		CASCADE;

ALTER TABLE Trip_Detail
	DROP
		PRIMARY KEY
		CASCADE
		KEEP INDEX;

DROP INDEX PK_Trip_Detail;

/* 여행일정_상세 */
DROP TABLE Trip_Detail 
	CASCADE CONSTRAINTS;

/* 여행일정_상세 */
CREATE TABLE Trip_Detail (
	place_name VARCHAR2(50) NOT NULL, /* 장소이름 */
	loc_id NUMBER NOT NULL, /* 지역코드 */
	trip_seq NUMBER, /* 여행id */
	order NUMBER, /* 순서 */
	day NUMBER(5) NOT NULL, /* 일차 */
	image VARCHAR2(200), /* 이미지 */
	detail_title VARCHAR2(50) NOT NULL, /* 일정제목 */
	detail_content CLOB /* 일정설명 */
);

COMMENT ON TABLE Trip_Detail IS '여행일정_상세';

COMMENT ON COLUMN Trip_Detail.place_name IS '장소이름';

COMMENT ON COLUMN Trip_Detail.loc_id IS '지역코드';

COMMENT ON COLUMN Trip_Detail.trip_seq IS '여행id';

COMMENT ON COLUMN Trip_Detail.order IS '순서';

COMMENT ON COLUMN Trip_Detail.day IS '일차';

COMMENT ON COLUMN Trip_Detail.image IS '이미지';

COMMENT ON COLUMN Trip_Detail.detail_title IS '일정제목';

COMMENT ON COLUMN Trip_Detail.detail_content IS '일정설명';

CREATE UNIQUE INDEX PK_Trip_Detail
	ON Trip_Detail (
		place_name ASC,
		loc_id ASC
	);

ALTER TABLE Trip_Detail
	ADD
		CONSTRAINT PK_Trip_Detail
		PRIMARY KEY (
			place_name,
			loc_id
		);

ALTER TABLE Trip_Detail
	ADD
		CONSTRAINT FK_Trip_Basic_TO_Trip_Detail
		FOREIGN KEY (
			trip_seq
		)
		REFERENCES Trip_Basic (
			trip_seq
		);